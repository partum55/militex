{"ast":null,"code":"import React,{useState}from'react';import{useTranslation}from'react-i18next';import{Link}from'react-router-dom';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const DonationModal=_ref=>{let{fundraiser,onClose,onSubmit,isAuthenticated}=_ref;const{t}=useTranslation();const[amount,setAmount]=useState('');const[message,setMessage]=useState('');const[anonymous,setAnonymous]=useState(false);const[error,setError]=useState('');const handleSubmit=e=>{e.preventDefault();if(!amount||isNaN(amount)||parseFloat(amount)<=0){setError(t('fundraiser.invalidAmount'));return;}onSubmit({amount:parseFloat(amount),message,anonymous,fundraiser:fundraiser.id});};return/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 flex items-center justify-center z-50 bg-black bg-opacity-50\",children:/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-lg shadow-xl w-full max-w-md mx-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mb-4\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-bold text-indigo-900\",children:t('fundraiser.donateToFundraiser')}),/*#__PURE__*/_jsx(\"button\",{onClick:onClose,className:\"text-gray-500 hover:text-gray-700\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-6 h-6\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",xmlns:\"http://www.w3.org/2000/svg\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:\"2\",d:\"M6 18L18 6M6 6l12 12\"})})})]}),/*#__PURE__*/_jsx(\"h3\",{className:\"font-bold text-lg mb-2\",children:fundraiser.title}),!isAuthenticated?/*#__PURE__*/_jsxs(\"div\",{className:\"bg-yellow-50 p-4 rounded-lg mb-6\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-yellow-700\",children:t('fundraiser.loginToDonate')}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-2\",children:[/*#__PURE__*/_jsx(Link,{to:\"/login\",className:\"text-indigo-600 hover:underline mr-4\",children:t('common.signIn')}),/*#__PURE__*/_jsx(Link,{to:\"/register\",className:\"text-indigo-600 hover:underline\",children:t('common.signUp')})]})]}):/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[error&&/*#__PURE__*/_jsx(\"div\",{className:\"bg-red-100 border border-red-400 text-red-700 px-4 py-2 rounded mb-4\",children:error}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"block text-gray-700 mb-2\",htmlFor:\"amount\",children:[t('fundraiser.donationAmount'),\" *\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"absolute inset-y-0 left-0 pl-3 flex items-center text-gray-700\",children:\"$\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",id:\"amount\",value:amount,onChange:e=>setAmount(e.target.value),placeholder:\"0.00\",min:\"0.01\",step:\"0.01\",className:\"w-full pl-8 pr-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500\",required:true})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"block text-gray-700 mb-2\",htmlFor:\"message\",children:[t('fundraiser.message'),\" (\",t('common.optional'),\")\"]}),/*#__PURE__*/_jsx(\"textarea\",{id:\"message\",value:message,onChange:e=>setMessage(e.target.value),rows:\"3\",className:\"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6 flex items-center\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",id:\"anonymous\",checked:anonymous,onChange:e=>setAnonymous(e.target.checked),className:\"mr-2\"}),/*#__PURE__*/_jsx(\"label\",{className:\"text-gray-700\",htmlFor:\"anonymous\",children:t('fundraiser.donateAnonymously')})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-end\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:onClose,className:\"mr-2 px-4 py-2 border rounded-lg text-gray-700 hover:bg-gray-100\",children:t('common.cancel')}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"px-4 py-2 bg-indigo-900 text-white rounded-lg hover:bg-indigo-800 transition duration-200\",children:t('fundraiser.donate')})]})]})]})})});};export default DonationModal;","map":{"version":3,"names":["React","useState","useTranslation","Link","jsx","_jsx","jsxs","_jsxs","DonationModal","_ref","fundraiser","onClose","onSubmit","isAuthenticated","t","amount","setAmount","message","setMessage","anonymous","setAnonymous","error","setError","handleSubmit","e","preventDefault","isNaN","parseFloat","id","className","children","onClick","fill","stroke","viewBox","xmlns","strokeLinecap","strokeLinejoin","strokeWidth","d","title","to","htmlFor","type","value","onChange","target","placeholder","min","step","required","rows","checked"],"sources":["C:/Users/bogda/Pyton programs/Web application OP/MILITEX/militex/frontend/src/components/fundraiser/DonationModal.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { useTranslation } from 'react-i18next';\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst DonationModal = ({ fundraiser, onClose, onSubmit, isAuthenticated }) => {\r\n  const { t } = useTranslation();\r\n  const [amount, setAmount] = useState('');\r\n  const [message, setMessage] = useState('');\r\n  const [anonymous, setAnonymous] = useState(false);\r\n  const [error, setError] = useState('');\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    \r\n    if (!amount || isNaN(amount) || parseFloat(amount) <= 0) {\r\n      setError(t('fundraiser.invalidAmount'));\r\n      return;\r\n    }\r\n\r\n    onSubmit({\r\n      amount: parseFloat(amount),\r\n      message,\r\n      anonymous,\r\n      fundraiser: fundraiser.id\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div className=\"fixed inset-0 flex items-center justify-center z-50 bg-black bg-opacity-50\">\r\n      <div className=\"bg-white rounded-lg shadow-xl w-full max-w-md mx-4\">\r\n        <div className=\"p-6\">\r\n          <div className=\"flex justify-between items-center mb-4\">\r\n            <h2 className=\"text-xl font-bold text-indigo-900\">\r\n              {t('fundraiser.donateToFundraiser')}\r\n            </h2>\r\n            <button\r\n              onClick={onClose}\r\n              className=\"text-gray-500 hover:text-gray-700\"\r\n            >\r\n              <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M6 18L18 6M6 6l12 12\"></path>\r\n              </svg>\r\n            </button>\r\n          </div>\r\n\r\n          <h3 className=\"font-bold text-lg mb-2\">{fundraiser.title}</h3>\r\n\r\n          {!isAuthenticated ? (\r\n            <div className=\"bg-yellow-50 p-4 rounded-lg mb-6\">\r\n              <p className=\"text-yellow-700\">\r\n                {t('fundraiser.loginToDonate')}\r\n              </p>\r\n              <div className=\"mt-2\">\r\n                <Link\r\n                  to=\"/login\"\r\n                  className=\"text-indigo-600 hover:underline mr-4\"\r\n                >\r\n                  {t('common.signIn')}\r\n                </Link>\r\n                <Link\r\n                  to=\"/register\"\r\n                  className=\"text-indigo-600 hover:underline\"\r\n                >\r\n                  {t('common.signUp')}\r\n                </Link>\r\n              </div>\r\n            </div>\r\n          ) : (\r\n            <form onSubmit={handleSubmit}>\r\n              {error && (\r\n                <div className=\"bg-red-100 border border-red-400 text-red-700 px-4 py-2 rounded mb-4\">\r\n                  {error}\r\n                </div>\r\n              )}\r\n\r\n              {/* Amount Input */}\r\n              <div className=\"mb-4\">\r\n                <label className=\"block text-gray-700 mb-2\" htmlFor=\"amount\">\r\n                  {t('fundraiser.donationAmount')} *\r\n                </label>\r\n                <div className=\"relative\">\r\n                  <span className=\"absolute inset-y-0 left-0 pl-3 flex items-center text-gray-700\">\r\n                    $\r\n                  </span>\r\n                  <input\r\n                    type=\"number\"\r\n                    id=\"amount\"\r\n                    value={amount}\r\n                    onChange={(e) => setAmount(e.target.value)}\r\n                    placeholder=\"0.00\"\r\n                    min=\"0.01\"\r\n                    step=\"0.01\"\r\n                    className=\"w-full pl-8 pr-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500\"\r\n                    required\r\n                  />\r\n                </div>\r\n              </div>\r\n\r\n              {/* Message Input */}\r\n              <div className=\"mb-4\">\r\n                <label className=\"block text-gray-700 mb-2\" htmlFor=\"message\">\r\n                  {t('fundraiser.message')} ({t('common.optional')})\r\n                </label>\r\n                <textarea\r\n                  id=\"message\"\r\n                  value={message}\r\n                  onChange={(e) => setMessage(e.target.value)}\r\n                  rows=\"3\"\r\n                  className=\"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500\"\r\n                ></textarea>\r\n              </div>\r\n\r\n              {/* Anonymous Option */}\r\n              <div className=\"mb-6 flex items-center\">\r\n                <input\r\n                  type=\"checkbox\"\r\n                  id=\"anonymous\"\r\n                  checked={anonymous}\r\n                  onChange={(e) => setAnonymous(e.target.checked)}\r\n                  className=\"mr-2\"\r\n                />\r\n                <label className=\"text-gray-700\" htmlFor=\"anonymous\">\r\n                  {t('fundraiser.donateAnonymously')}\r\n                </label>\r\n              </div>\r\n\r\n              {/* Submit Button */}\r\n              <div className=\"flex justify-end\">\r\n                <button\r\n                  type=\"button\"\r\n                  onClick={onClose}\r\n                  className=\"mr-2 px-4 py-2 border rounded-lg text-gray-700 hover:bg-gray-100\"\r\n                >\r\n                  {t('common.cancel')}\r\n                </button>\r\n                <button\r\n                  type=\"submit\"\r\n                  className=\"px-4 py-2 bg-indigo-900 text-white rounded-lg hover:bg-indigo-800 transition duration-200\"\r\n                >\r\n                  {t('fundraiser.donate')}\r\n                </button>\r\n              </div>\r\n            </form>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DonationModal;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}