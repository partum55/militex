{"ast":null,"code":"// App.js\nimport React,{useEffect}from'react';import{Routes,Route}from'react-router-dom';import{useTranslation}from'react-i18next';import{AuthProvider}from'./contexts/AuthContext.js';import PrivateRoute from'./components/common/PrivateRoute.js';// Import layout components\nimport Header from'./components/layout/Header.js';import Footer from'./components/layout/Footer.js';// Import page components\nimport HomePage from'./pages/HomePage.js';import BuyPage from'./pages/BuyPage.js';import SellPage from'./pages/SellPage.js';import CarDetailPage from'./pages/CarDetailPage.js';import ProfilePage from'./components/auth/ProfilePage.js';import Login from'./components/auth/Login.js';import Register from'./components/auth/Register.js';import ErrorPage from'./components/common/ErrorPage.js';import MaintenancePage from'./components/common/MaintenancePage.js';import axios from'axios';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function App(){const{t}=useTranslation();useEffect(()=>{// Simplified CSRF fetching - directly using axios\nconst fetchCsrf=async()=>{try{await axios.get('/csrf/',{withCredentials:true});console.log(\"CSRF cookie set successfully\");}catch(error){console.warn(\"CSRF cookie setup failed:\",error);// Continue anyway - don't block rendering\n}};fetchCsrf();},[]);return/*#__PURE__*/_jsx(AuthProvider,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col min-h-screen\",children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsx(\"main\",{className:\"flex-grow\",children:/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(HomePage,{})}),/*#__PURE__*/_jsx(Route,{path:\"/buy\",element:/*#__PURE__*/_jsx(BuyPage,{})}),/*#__PURE__*/_jsx(Route,{path:\"/cars/:id\",element:/*#__PURE__*/_jsx(CarDetailPage,{})}),/*#__PURE__*/_jsx(Route,{path:\"/sell\",element:/*#__PURE__*/_jsx(PrivateRoute,{children:/*#__PURE__*/_jsx(SellPage,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/login\",element:/*#__PURE__*/_jsx(Login,{})}),/*#__PURE__*/_jsx(Route,{path:\"/register\",element:/*#__PURE__*/_jsx(Register,{})}),/*#__PURE__*/_jsx(Route,{path:\"/profile\",element:/*#__PURE__*/_jsx(PrivateRoute,{children:/*#__PURE__*/_jsx(ProfilePage,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/error\",element:/*#__PURE__*/_jsx(ErrorPage,{})}),/*#__PURE__*/_jsx(Route,{path:\"/maintenance\",element:/*#__PURE__*/_jsx(MaintenancePage,{})}),/*#__PURE__*/_jsx(Route,{path:\"*\",element:/*#__PURE__*/_jsx(ErrorPage,{})})]})}),/*#__PURE__*/_jsx(Footer,{})]})});}export default App;","map":{"version":3,"names":["React","useEffect","Routes","Route","useTranslation","AuthProvider","PrivateRoute","Header","Footer","HomePage","BuyPage","SellPage","CarDetailPage","ProfilePage","Login","Register","ErrorPage","MaintenancePage","axios","jsx","_jsx","jsxs","_jsxs","App","t","fetchCsrf","get","withCredentials","console","log","error","warn","children","className","path","element"],"sources":["C:/Users/partu/Desktop/militex/frontend/src/App.js"],"sourcesContent":["// App.js\r\nimport React, { useEffect } from 'react';\r\nimport { Routes, Route } from 'react-router-dom';\r\nimport { useTranslation } from 'react-i18next';\r\nimport { AuthProvider } from './contexts/AuthContext.js';\r\nimport PrivateRoute from './components/common/PrivateRoute.js';\r\n\r\n// Import layout components\r\nimport Header from './components/layout/Header.js';\r\nimport Footer from './components/layout/Footer.js';\r\n\r\n// Import page components\r\nimport HomePage from './pages/HomePage.js';\r\nimport BuyPage from './pages/BuyPage.js';\r\nimport SellPage from './pages/SellPage.js';\r\nimport CarDetailPage from './pages/CarDetailPage.js';\r\nimport ProfilePage from './components/auth/ProfilePage.js';\r\nimport Login from './components/auth/Login.js';\r\nimport Register from './components/auth/Register.js';\r\nimport ErrorPage from './components/common/ErrorPage.js';\r\nimport MaintenancePage from './components/common/MaintenancePage.js';\r\nimport axios from 'axios';\r\n\r\nfunction App() {\r\n  const { t } = useTranslation();\r\n\r\n  useEffect(() => {\r\n    // Simplified CSRF fetching - directly using axios\r\n    const fetchCsrf = async () => {\r\n      try {\r\n        await axios.get('/csrf/', { withCredentials: true });\r\n        console.log(\"CSRF cookie set successfully\");\r\n      } catch (error) {\r\n        console.warn(\"CSRF cookie setup failed:\", error);\r\n        // Continue anyway - don't block rendering\r\n      }\r\n    };\r\n    \r\n    fetchCsrf();\r\n  }, []);\r\n\r\n  return (\r\n    <AuthProvider>\r\n      <div className=\"flex flex-col min-h-screen\">\r\n        <Header />\r\n        <main className=\"flex-grow\">\r\n          <Routes>\r\n            <Route path=\"/\" element={<HomePage />} />\r\n            <Route path=\"/buy\" element={<BuyPage />} />\r\n            <Route path=\"/cars/:id\" element={<CarDetailPage />} />\r\n            <Route\r\n              path=\"/sell\"\r\n              element={\r\n                <PrivateRoute>\r\n                  <SellPage />\r\n                </PrivateRoute>\r\n              }\r\n            />\r\n            <Route path=\"/login\" element={<Login />} />\r\n            <Route path=\"/register\" element={<Register />} />\r\n            <Route\r\n              path=\"/profile\"\r\n              element={\r\n                <PrivateRoute>\r\n                  <ProfilePage />\r\n                </PrivateRoute>\r\n              }\r\n            />\r\n            <Route path=\"/error\" element={<ErrorPage />} />\r\n            <Route path=\"/maintenance\" element={<MaintenancePage />} />\r\n            <Route path=\"*\" element={<ErrorPage />} />\r\n          </Routes>\r\n        </main>\r\n        <Footer />\r\n      </div>\r\n    </AuthProvider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}