{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Link,useNavigate}from'react-router-dom';import{useTranslation}from'react-i18next';import AuthService from'../../services/auth.service';import Navbar from'./Navbar';// Import the Navbar component\nimport{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const Header=()=>{const{t,i18n}=useTranslation();const[currentUser,setCurrentUser]=useState(null);const[showLanguageDropdown,setShowLanguageDropdown]=useState(false);const[showUserDropdown,setShowUserDropdown]=useState(false);const navigate=useNavigate();useEffect(()=>{const user=localStorage.getItem('user');if(user){setCurrentUser(JSON.parse(user));}},[]);const handleLogout=()=>{AuthService.logout();setCurrentUser(null);navigate('/');};const changeLanguage=lng=>{i18n.changeLanguage(lng);setShowLanguageDropdown(false);};return/*#__PURE__*/_jsx(\"header\",{className:\"bg-purple-900 text-white\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"container mx-auto px-4 py-3 flex justify-between items-center\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(Link,{to:\"/\",className:\"mr-6\",children:/*#__PURE__*/_jsx(\"img\",{src:\"/logo.png\",alt:\"Militex Logo\",className:\"h-8\"})}),/*#__PURE__*/_jsx(Navbar,{})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"p-1 rounded-full text-gray-200 hover:text-white\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-6 h-6\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",xmlns:\"http://www.w3.org/2000/svg\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:\"2\",d:\"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z\"})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"p-1 rounded-full text-gray-200 hover:text-white\",onClick:()=>setShowLanguageDropdown(!showLanguageDropdown),children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-6 h-6\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",xmlns:\"http://www.w3.org/2000/svg\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:\"2\",d:\"M3 5h12M9 3v2m1.048 9.5A18.022 18.022 0 016.412 9m6.088 9h7M11 21l5-10 5 10M12.751 5C11.783 10.77 8.07 15.61 3 18.129\"})})}),showLanguageDropdown&&/*#__PURE__*/_jsxs(\"div\",{className:\"absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg py-1 z-10\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>changeLanguage('en'),className:\"block w-full text-left px-4 py-2 text-gray-800 hover:bg-gray-100\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"mr-2\",children:i18n.language==='en'?'✓':''}),t('common.english')]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>changeLanguage('uk'),className:\"block w-full text-left px-4 py-2 text-gray-800 hover:bg-gray-100\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"mr-2\",children:i18n.language==='uk'?'✓':''}),t('common.ukrainian')]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"p-1 rounded-full text-gray-200 hover:text-white\",onClick:()=>setShowUserDropdown(!showUserDropdown),children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-6 h-6\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",xmlns:\"http://www.w3.org/2000/svg\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:\"2\",d:\"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z\"})})}),showUserDropdown&&/*#__PURE__*/_jsx(\"div\",{className:\"absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg py-1 z-10\",children:currentUser?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Link,{to:\"/profile\",className:\"block px-4 py-2 text-gray-800 hover:bg-gray-100\",onClick:()=>setShowUserDropdown(false),children:t('common.profile')}),/*#__PURE__*/_jsx(\"button\",{onClick:handleLogout,className:\"block w-full text-left px-4 py-2 text-gray-800 hover:bg-gray-100\",children:t('common.signOut')})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Link,{to:\"/login\",className:\"block px-4 py-2 text-gray-800 hover:bg-gray-100\",onClick:()=>setShowUserDropdown(false),children:t('common.signIn')}),/*#__PURE__*/_jsx(Link,{to:\"/register\",className:\"block px-4 py-2 text-gray-800 hover:bg-gray-100\",onClick:()=>setShowUserDropdown(false),children:t('common.signUp')})]})})]})]})]})});};export default Header;","map":{"version":3,"names":["React","useState","useEffect","Link","useNavigate","useTranslation","AuthService","Navbar","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Header","t","i18n","currentUser","setCurrentUser","showLanguageDropdown","setShowLanguageDropdown","showUserDropdown","setShowUserDropdown","navigate","user","localStorage","getItem","JSON","parse","handleLogout","logout","changeLanguage","lng","className","children","to","src","alt","fill","stroke","viewBox","xmlns","strokeLinecap","strokeLinejoin","strokeWidth","d","onClick","language"],"sources":["C:/Users/partu/Desktop/militex/frontend/src/components/layout/Header.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { Link, useNavigate } from 'react-router-dom';\r\nimport { useTranslation } from 'react-i18next';\r\nimport AuthService from '../../services/auth.service';\r\nimport Navbar from './Navbar'; // Import the Navbar component\r\n\r\nconst Header = () => {\r\n  const { t, i18n } = useTranslation();\r\n  const [currentUser, setCurrentUser] = useState(null);\r\n  const [showLanguageDropdown, setShowLanguageDropdown] = useState(false);\r\n  const [showUserDropdown, setShowUserDropdown] = useState(false);\r\n  const navigate = useNavigate();\r\n\r\n  useEffect(() => {\r\n    const user = localStorage.getItem('user');\r\n    if (user) {\r\n      setCurrentUser(JSON.parse(user));\r\n    }\r\n  }, []);\r\n\r\n  const handleLogout = () => {\r\n    AuthService.logout();\r\n    setCurrentUser(null);\r\n    navigate('/');\r\n  };\r\n\r\n  const changeLanguage = (lng) => {\r\n    i18n.changeLanguage(lng);\r\n    setShowLanguageDropdown(false);\r\n  };\r\n\r\n  return (\r\n    <header className=\"bg-purple-900 text-white\">\r\n      <div className=\"container mx-auto px-4 py-3 flex justify-between items-center\">\r\n        <div className=\"flex items-center\">\r\n          <Link to=\"/\" className=\"mr-6\">\r\n            <img src=\"/logo.png\" alt=\"Militex Logo\" className=\"h-8\" />\r\n          </Link>\r\n\r\n          {/* Use the Navbar component here */}\r\n          <Navbar />\r\n        </div>\r\n\r\n        <div className=\"flex items-center space-x-4\">\r\n          {/* Dark mode toggle */}\r\n          <button className=\"p-1 rounded-full text-gray-200 hover:text-white\">\r\n            <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\r\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z\"></path>\r\n            </svg>\r\n          </button>\r\n\r\n          {/* Language selector */}\r\n          <div className=\"relative\">\r\n            <button\r\n              className=\"p-1 rounded-full text-gray-200 hover:text-white\"\r\n              onClick={() => setShowLanguageDropdown(!showLanguageDropdown)}\r\n            >\r\n              <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M3 5h12M9 3v2m1.048 9.5A18.022 18.022 0 016.412 9m6.088 9h7M11 21l5-10 5 10M12.751 5C11.783 10.77 8.07 15.61 3 18.129\"></path>\r\n              </svg>\r\n            </button>\r\n\r\n            {showLanguageDropdown && (\r\n              <div className=\"absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg py-1 z-10\">\r\n                <button\r\n                  onClick={() => changeLanguage('en')}\r\n                  className=\"block w-full text-left px-4 py-2 text-gray-800 hover:bg-gray-100\"\r\n                >\r\n                  <span className=\"mr-2\">{i18n.language === 'en' ? '✓' : ''}</span>\r\n                  {t('common.english')}\r\n                </button>\r\n                <button\r\n                  onClick={() => changeLanguage('uk')}\r\n                  className=\"block w-full text-left px-4 py-2 text-gray-800 hover:bg-gray-100\"\r\n                >\r\n                  <span className=\"mr-2\">{i18n.language === 'uk' ? '✓' : ''}</span>\r\n                  {t('common.ukrainian')}\r\n                </button>\r\n              </div>\r\n            )}\r\n          </div>\r\n\r\n          {/* User profile */}\r\n          <div className=\"relative\">\r\n            <button\r\n              className=\"p-1 rounded-full text-gray-200 hover:text-white\"\r\n              onClick={() => setShowUserDropdown(!showUserDropdown)}\r\n            >\r\n              <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z\"></path>\r\n              </svg>\r\n            </button>\r\n\r\n            {showUserDropdown && (\r\n              <div className=\"absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg py-1 z-10\">\r\n                {currentUser ? (\r\n                  <>\r\n                    <Link\r\n                      to=\"/profile\"\r\n                      className=\"block px-4 py-2 text-gray-800 hover:bg-gray-100\"\r\n                      onClick={() => setShowUserDropdown(false)}\r\n                    >\r\n                      {t('common.profile')}\r\n                    </Link>\r\n                    <button\r\n                      onClick={handleLogout}\r\n                      className=\"block w-full text-left px-4 py-2 text-gray-800 hover:bg-gray-100\"\r\n                    >\r\n                      {t('common.signOut')}\r\n                    </button>\r\n                  </>\r\n                ) : (\r\n                  <>\r\n                    <Link\r\n                      to=\"/login\"\r\n                      className=\"block px-4 py-2 text-gray-800 hover:bg-gray-100\"\r\n                      onClick={() => setShowUserDropdown(false)}\r\n                    >\r\n                      {t('common.signIn')}\r\n                    </Link>\r\n                    <Link\r\n                      to=\"/register\"\r\n                      className=\"block px-4 py-2 text-gray-800 hover:bg-gray-100\"\r\n                      onClick={() => setShowUserDropdown(false)}\r\n                    >\r\n                      {t('common.signUp')}\r\n                    </Link>\r\n                  </>\r\n                )}\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </header>\r\n  );\r\n};\r\n\r\nexport default Header;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}