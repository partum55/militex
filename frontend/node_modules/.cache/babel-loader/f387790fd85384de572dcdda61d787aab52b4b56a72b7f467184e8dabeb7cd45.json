{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Link}from'react-router-dom';import{useTranslation}from'react-i18next';import CarService from'../../services/car.service';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const FeaturedCars=()=>{const{t}=useTranslation();const[cars,setCars]=useState([]);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);useEffect(()=>{const fetchFeaturedCars=async()=>{try{setLoading(true);const featuredCars=await CarService.getFeaturedCars(3);setCars(featuredCars);}catch(err){console.error('Error fetching featured cars:',err);setError('Failed to load featured vehicles');}finally{setLoading(false);}};fetchFeaturedCars();},[]);if(loading){return/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-12\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"loader mx-auto\"}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-4 text-gray-600\",children:t('common.loading')})]});}if(error){return/*#__PURE__*/_jsx(\"div\",{className:\"text-center py-12\",children:/*#__PURE__*/_jsx(\"p\",{className:\"text-red-600\",children:error})});}if(cars.length===0){return/*#__PURE__*/_jsx(\"div\",{className:\"text-center py-12\",children:/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:t('cars.noFeaturedCarsAvailable')})});}// Function to get primary image or use placeholder\nconst getCarImage=car=>{if(car.images&&car.images.length>0){const primaryImage=car.images.find(img=>img.is_primary);return primaryImage?primaryImage.image:car.images[0].image;}return'/images/car-placeholder.jpg';};return/*#__PURE__*/_jsxs(\"section\",{className:\"py-16 container mx-auto px-6\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-3xl font-bold text-center text-indigo-900 mb-12\",children:t('home.featuredVehicles')}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 md:grid-cols-3 gap-8\",children:cars.map(car=>/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-md overflow-hidden\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"h-48 bg-gray-300\",children:/*#__PURE__*/_jsx(\"img\",{src:getCarImage(car),alt:`${car.make} ${car.model}`,className:\"w-full h-full object-cover\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-4\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-lg font-bold text-indigo-900\",children:[car.year,\" \",car.make,\" \",car.model]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-600\",children:[car.mileage.toLocaleString(),\" \",t('cars.mileage')]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-2 flex justify-between items-center\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"text-xl font-bold text-indigo-900\",children:[\"$\",car.price.toLocaleString()]}),/*#__PURE__*/_jsx(Link,{to:`/cars/${car.id}`,className:\"text-indigo-600 hover:underline\",children:t('common.viewDetails')})]})]})]},car.id))}),/*#__PURE__*/_jsx(\"div\",{className:\"text-center mt-8\",children:/*#__PURE__*/_jsx(Link,{to:\"/buy\",className:\"bg-indigo-900 text-white px-6 py-3 rounded-lg inline-block font-bold hover:bg-indigo-800 transition duration-300\",children:t('home.viewAllListings')})})]});};export default FeaturedCars;","map":{"version":3,"names":["React","useState","useEffect","Link","useTranslation","CarService","jsx","_jsx","jsxs","_jsxs","FeaturedCars","t","cars","setCars","loading","setLoading","error","setError","fetchFeaturedCars","featuredCars","getFeaturedCars","err","console","className","children","length","getCarImage","car","images","primaryImage","find","img","is_primary","image","map","src","alt","make","model","year","mileage","toLocaleString","price","to","id"],"sources":["C:/Users/partu/Desktop/militex/frontend/src/components/cars/FeaturedCars.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { useTranslation } from 'react-i18next';\r\nimport CarService from '../../services/car.service';\r\n\r\nconst FeaturedCars = () => {\r\n  const { t } = useTranslation();\r\n  const [cars, setCars] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n\r\n  useEffect(() => {\r\n    const fetchFeaturedCars = async () => {\r\n      try {\r\n        setLoading(true);\r\n        const featuredCars = await CarService.getFeaturedCars(3);\r\n        setCars(featuredCars);\r\n      } catch (err) {\r\n        console.error('Error fetching featured cars:', err);\r\n        setError('Failed to load featured vehicles');\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchFeaturedCars();\r\n  }, []);\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"text-center py-12\">\r\n        <div className=\"loader mx-auto\"></div>\r\n        <p className=\"mt-4 text-gray-600\">{t('common.loading')}</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (error) {\r\n    return (\r\n      <div className=\"text-center py-12\">\r\n        <p className=\"text-red-600\">{error}</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (cars.length === 0) {\r\n    return (\r\n      <div className=\"text-center py-12\">\r\n        <p className=\"text-gray-600\">{t('cars.noFeaturedCarsAvailable')}</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // Function to get primary image or use placeholder\r\n  const getCarImage = (car) => {\r\n    if (car.images && car.images.length > 0) {\r\n      const primaryImage = car.images.find(img => img.is_primary);\r\n      return primaryImage ? primaryImage.image : car.images[0].image;\r\n    }\r\n    return '/images/car-placeholder.jpg';\r\n  };\r\n\r\n  return (\r\n    <section className=\"py-16 container mx-auto px-6\">\r\n      <h2 className=\"text-3xl font-bold text-center text-indigo-900 mb-12\">\r\n        {t('home.featuredVehicles')}\r\n      </h2>\r\n\r\n      <div className=\"grid grid-cols-1 md:grid-cols-3 gap-8\">\r\n        {cars.map((car) => (\r\n          <div key={car.id} className=\"bg-white rounded-lg shadow-md overflow-hidden\">\r\n            <div className=\"h-48 bg-gray-300\">\r\n              <img\r\n                src={getCarImage(car)}\r\n                alt={`${car.make} ${car.model}`}\r\n                className=\"w-full h-full object-cover\"\r\n              />\r\n            </div>\r\n            <div className=\"p-4\">\r\n              <h3 className=\"text-lg font-bold text-indigo-900\">\r\n                {car.year} {car.make} {car.model}\r\n              </h3>\r\n              <p className=\"text-gray-600\">{car.mileage.toLocaleString()} {t('cars.mileage')}</p>\r\n              <div className=\"mt-2 flex justify-between items-center\">\r\n                <span className=\"text-xl font-bold text-indigo-900\">${car.price.toLocaleString()}</span>\r\n                <Link to={`/cars/${car.id}`} className=\"text-indigo-600 hover:underline\">\r\n                  {t('common.viewDetails')}\r\n                </Link>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        ))}\r\n      </div>\r\n\r\n      <div className=\"text-center mt-8\">\r\n        <Link\r\n          to=\"/buy\"\r\n          className=\"bg-indigo-900 text-white px-6 py-3 rounded-lg inline-block font-bold hover:bg-indigo-800 transition duration-300\"\r\n        >\r\n          {t('home.viewAllListings')}\r\n        </Link>\r\n      </div>\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default FeaturedCars;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}