{"ast":null,"code":"import React,{useState}from'react';import{useTranslation}from'react-i18next';import{jsx as _jsx,Fragment as _Fragment,jsxs as _jsxs}from\"react/jsx-runtime\";const CarDetail=_ref=>{let{car,onContactSeller}=_ref;const{t}=useTranslation();const[activeImageIndex,setActiveImageIndex]=useState(0);if(!car)return null;const handleImageClick=index=>{setActiveImageIndex(index);};const handleContactSellerClick=()=>{// If this is an imported car with an original URL, open the original listing\nif(car.is_imported&&car.original_url){window.open(car.original_url,'_blank');}else{// Otherwise use the regular contact seller functionality\nonContactSeller(car);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-md overflow-hidden\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"relative\",children:car.images&&car.images.length>0?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"h-96\",children:/*#__PURE__*/_jsx(\"img\",{src:car.images[activeImageIndex].image,alt:`${car.year} ${car.make} ${car.model}`,className:\"w-full h-full object-cover\"})}),car.images.length>1&&/*#__PURE__*/_jsx(\"div\",{className:\"flex mt-2 overflow-x-auto\",children:car.images.map((img,idx)=>/*#__PURE__*/_jsx(\"div\",{onClick:()=>handleImageClick(idx),className:`w-20 h-16 mr-2 cursor-pointer ${activeImageIndex===idx?'ring-2 ring-indigo-900':''}`,children:/*#__PURE__*/_jsx(\"img\",{src:img.image,alt:`${car.make} ${car.model} thumbnail ${idx}`,className:\"w-full h-full object-cover\"})},idx))})]}):/*#__PURE__*/_jsx(\"div\",{className:\"h-96 bg-gray-200 flex items-center justify-center\",children:/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-500\",children:t('cars.noImages')})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-start\",children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"text-2xl font-bold text-indigo-900\",children:[car.year,\" \",car.make,\" \",car.model]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-2xl font-bold text-indigo-900\",children:[\"$\",car.price.toLocaleString(),car.negotiable&&/*#__PURE__*/_jsxs(\"span\",{className:\"text-sm font-normal text-gray-500 ml-2\",children:[\"(\",t('cars.negotiable'),\")\"]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-4 grid grid-cols-2 gap-y-2\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"span\",{className:\"text-gray-600\",children:[t('cars.mileage'),\":\"]}),\" \",car.mileage.toLocaleString(),\" km\"]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"span\",{className:\"text-gray-600\",children:[t('cars.condition'),\":\"]}),\" \",car.condition]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"span\",{className:\"text-gray-600\",children:[t('cars.fuelType'),\":\"]}),\" \",car.fuel_type]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"span\",{className:\"text-gray-600\",children:[t('cars.transmission'),\":\"]}),\" \",car.transmission]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"span\",{className:\"text-gray-600\",children:[t('cars.location'),\":\"]}),\" \",car.city,\", \",car.country]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"span\",{className:\"text-gray-600\",children:[t('cars.vehicleType'),\":\"]}),\" \",car.vehicle_type]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-bold text-lg mb-2\",children:t('cars.description')}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-700\",children:car.description||t('cars.noDescription')})]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleContactSellerClick,className:\"mt-6 w-full bg-indigo-900 text-white py-3 rounded-lg hover:bg-indigo-800 transition duration-200\",children:car.is_imported&&car.original_url?t('cars.viewOriginalAd'):t('cars.contactSeller')})]})]});};export default CarDetail;","map":{"version":3,"names":["React","useState","useTranslation","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","CarDetail","_ref","car","onContactSeller","t","activeImageIndex","setActiveImageIndex","handleImageClick","index","handleContactSellerClick","is_imported","original_url","window","open","className","children","images","length","src","image","alt","year","make","model","map","img","idx","onClick","price","toLocaleString","negotiable","mileage","condition","fuel_type","transmission","city","country","vehicle_type","description"],"sources":["C:/Users/partu/Desktop/militex/frontend/src/components/cars/CarDetail.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { useTranslation } from 'react-i18next';\r\n\r\nconst CarDetail = ({ car, onContactSeller }) => {\r\n  const { t } = useTranslation();\r\n  const [activeImageIndex, setActiveImageIndex] = useState(0);\r\n\r\n  if (!car) return null;\r\n\r\n  const handleImageClick = (index) => {\r\n    setActiveImageIndex(index);\r\n  };\r\n\r\n  const handleContactSellerClick = () => {\r\n    // If this is an imported car with an original URL, open the original listing\r\n    if (car.is_imported && car.original_url) {\r\n      window.open(car.original_url, '_blank');\r\n    } else {\r\n      // Otherwise use the regular contact seller functionality\r\n      onContactSeller(car);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"bg-white rounded-lg shadow-md overflow-hidden\">\r\n      {/* Image Gallery */}\r\n      <div className=\"relative\">\r\n        {car.images && car.images.length > 0 ? (\r\n          <>\r\n            <div className=\"h-96\">\r\n              <img\r\n                src={car.images[activeImageIndex].image}\r\n                alt={`${car.year} ${car.make} ${car.model}`}\r\n                className=\"w-full h-full object-cover\"\r\n              />\r\n            </div>\r\n            {/* Thumbnails */}\r\n            {car.images.length > 1 && (\r\n              <div className=\"flex mt-2 overflow-x-auto\">\r\n                {car.images.map((img, idx) => (\r\n                  <div\r\n                    key={idx}\r\n                    onClick={() => handleImageClick(idx)}\r\n                    className={`w-20 h-16 mr-2 cursor-pointer ${activeImageIndex === idx ? 'ring-2 ring-indigo-900' : ''}`}\r\n                  >\r\n                    <img\r\n                      src={img.image}\r\n                      alt={`${car.make} ${car.model} thumbnail ${idx}`}\r\n                      className=\"w-full h-full object-cover\"\r\n                    />\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            )}\r\n          </>\r\n        ) : (\r\n          <div className=\"h-96 bg-gray-200 flex items-center justify-center\">\r\n            <span className=\"text-gray-500\">{t('cars.noImages')}</span>\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {/* Car Details */}\r\n      <div className=\"p-6\">\r\n        <div className=\"flex justify-between items-start\">\r\n          <h2 className=\"text-2xl font-bold text-indigo-900\">\r\n            {car.year} {car.make} {car.model}\r\n          </h2>\r\n          <div className=\"text-2xl font-bold text-indigo-900\">\r\n            ${car.price.toLocaleString()}\r\n            {car.negotiable && (\r\n              <span className=\"text-sm font-normal text-gray-500 ml-2\">\r\n                ({t('cars.negotiable')})\r\n              </span>\r\n            )}\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"mt-4 grid grid-cols-2 gap-y-2\">\r\n          <div><span className=\"text-gray-600\">{t('cars.mileage')}:</span> {car.mileage.toLocaleString()} km</div>\r\n          <div><span className=\"text-gray-600\">{t('cars.condition')}:</span> {car.condition}</div>\r\n          <div><span className=\"text-gray-600\">{t('cars.fuelType')}:</span> {car.fuel_type}</div>\r\n          <div><span className=\"text-gray-600\">{t('cars.transmission')}:</span> {car.transmission}</div>\r\n          <div><span className=\"text-gray-600\">{t('cars.location')}:</span> {car.city}, {car.country}</div>\r\n          <div><span className=\"text-gray-600\">{t('cars.vehicleType')}:</span> {car.vehicle_type}</div>\r\n        </div>\r\n\r\n        <div className=\"mt-6\">\r\n          <h3 className=\"font-bold text-lg mb-2\">{t('cars.description')}</h3>\r\n          <p className=\"text-gray-700\">{car.description || t('cars.noDescription')}</p>\r\n        </div>\r\n\r\n        <button\r\n          onClick={handleContactSellerClick}\r\n          className=\"mt-6 w-full bg-indigo-900 text-white py-3 rounded-lg hover:bg-indigo-800 transition duration-200\"\r\n        >\r\n          {car.is_imported && car.original_url ? t('cars.viewOriginalAd') : t('cars.contactSeller')}\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CarDetail;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,OAASC,cAAc,KAAQ,eAAe,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,QAAA,IAAAC,SAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE/C,KAAM,CAAAC,SAAS,CAAGC,IAAA,EAA8B,IAA7B,CAAEC,GAAG,CAAEC,eAAgB,CAAC,CAAAF,IAAA,CACzC,KAAM,CAAEG,CAAE,CAAC,CAAGX,cAAc,CAAC,CAAC,CAC9B,KAAM,CAACY,gBAAgB,CAAEC,mBAAmB,CAAC,CAAGd,QAAQ,CAAC,CAAC,CAAC,CAE3D,GAAI,CAACU,GAAG,CAAE,MAAO,KAAI,CAErB,KAAM,CAAAK,gBAAgB,CAAIC,KAAK,EAAK,CAClCF,mBAAmB,CAACE,KAAK,CAAC,CAC5B,CAAC,CAED,KAAM,CAAAC,wBAAwB,CAAGA,CAAA,GAAM,CACrC;AACA,GAAIP,GAAG,CAACQ,WAAW,EAAIR,GAAG,CAACS,YAAY,CAAE,CACvCC,MAAM,CAACC,IAAI,CAACX,GAAG,CAACS,YAAY,CAAE,QAAQ,CAAC,CACzC,CAAC,IAAM,CACL;AACAR,eAAe,CAACD,GAAG,CAAC,CACtB,CACF,CAAC,CAED,mBACEH,KAAA,QAAKe,SAAS,CAAC,+CAA+C,CAAAC,QAAA,eAE5DpB,IAAA,QAAKmB,SAAS,CAAC,UAAU,CAAAC,QAAA,CACtBb,GAAG,CAACc,MAAM,EAAId,GAAG,CAACc,MAAM,CAACC,MAAM,CAAG,CAAC,cAClClB,KAAA,CAAAF,SAAA,EAAAkB,QAAA,eACEpB,IAAA,QAAKmB,SAAS,CAAC,MAAM,CAAAC,QAAA,cACnBpB,IAAA,QACEuB,GAAG,CAAEhB,GAAG,CAACc,MAAM,CAACX,gBAAgB,CAAC,CAACc,KAAM,CACxCC,GAAG,CAAE,GAAGlB,GAAG,CAACmB,IAAI,IAAInB,GAAG,CAACoB,IAAI,IAAIpB,GAAG,CAACqB,KAAK,EAAG,CAC5CT,SAAS,CAAC,4BAA4B,CACvC,CAAC,CACC,CAAC,CAELZ,GAAG,CAACc,MAAM,CAACC,MAAM,CAAG,CAAC,eACpBtB,IAAA,QAAKmB,SAAS,CAAC,2BAA2B,CAAAC,QAAA,CACvCb,GAAG,CAACc,MAAM,CAACQ,GAAG,CAAC,CAACC,GAAG,CAAEC,GAAG,gBACvB/B,IAAA,QAEEgC,OAAO,CAAEA,CAAA,GAAMpB,gBAAgB,CAACmB,GAAG,CAAE,CACrCZ,SAAS,CAAE,iCAAiCT,gBAAgB,GAAKqB,GAAG,CAAG,wBAAwB,CAAG,EAAE,EAAG,CAAAX,QAAA,cAEvGpB,IAAA,QACEuB,GAAG,CAAEO,GAAG,CAACN,KAAM,CACfC,GAAG,CAAE,GAAGlB,GAAG,CAACoB,IAAI,IAAIpB,GAAG,CAACqB,KAAK,cAAcG,GAAG,EAAG,CACjDZ,SAAS,CAAC,4BAA4B,CACvC,CAAC,EARGY,GASF,CACN,CAAC,CACC,CACN,EACD,CAAC,cAEH/B,IAAA,QAAKmB,SAAS,CAAC,mDAAmD,CAAAC,QAAA,cAChEpB,IAAA,SAAMmB,SAAS,CAAC,eAAe,CAAAC,QAAA,CAAEX,CAAC,CAAC,eAAe,CAAC,CAAO,CAAC,CACxD,CACN,CACE,CAAC,cAGNL,KAAA,QAAKe,SAAS,CAAC,KAAK,CAAAC,QAAA,eAClBhB,KAAA,QAAKe,SAAS,CAAC,kCAAkC,CAAAC,QAAA,eAC/ChB,KAAA,OAAIe,SAAS,CAAC,oCAAoC,CAAAC,QAAA,EAC/Cb,GAAG,CAACmB,IAAI,CAAC,GAAC,CAACnB,GAAG,CAACoB,IAAI,CAAC,GAAC,CAACpB,GAAG,CAACqB,KAAK,EAC9B,CAAC,cACLxB,KAAA,QAAKe,SAAS,CAAC,oCAAoC,CAAAC,QAAA,EAAC,GACjD,CAACb,GAAG,CAAC0B,KAAK,CAACC,cAAc,CAAC,CAAC,CAC3B3B,GAAG,CAAC4B,UAAU,eACb/B,KAAA,SAAMe,SAAS,CAAC,wCAAwC,CAAAC,QAAA,EAAC,GACtD,CAACX,CAAC,CAAC,iBAAiB,CAAC,CAAC,GACzB,EAAM,CACP,EACE,CAAC,EACH,CAAC,cAENL,KAAA,QAAKe,SAAS,CAAC,+BAA+B,CAAAC,QAAA,eAC5ChB,KAAA,QAAAgB,QAAA,eAAKhB,KAAA,SAAMe,SAAS,CAAC,eAAe,CAAAC,QAAA,EAAEX,CAAC,CAAC,cAAc,CAAC,CAAC,GAAC,EAAM,CAAC,IAAC,CAACF,GAAG,CAAC6B,OAAO,CAACF,cAAc,CAAC,CAAC,CAAC,KAAG,EAAK,CAAC,cACxG9B,KAAA,QAAAgB,QAAA,eAAKhB,KAAA,SAAMe,SAAS,CAAC,eAAe,CAAAC,QAAA,EAAEX,CAAC,CAAC,gBAAgB,CAAC,CAAC,GAAC,EAAM,CAAC,IAAC,CAACF,GAAG,CAAC8B,SAAS,EAAM,CAAC,cACxFjC,KAAA,QAAAgB,QAAA,eAAKhB,KAAA,SAAMe,SAAS,CAAC,eAAe,CAAAC,QAAA,EAAEX,CAAC,CAAC,eAAe,CAAC,CAAC,GAAC,EAAM,CAAC,IAAC,CAACF,GAAG,CAAC+B,SAAS,EAAM,CAAC,cACvFlC,KAAA,QAAAgB,QAAA,eAAKhB,KAAA,SAAMe,SAAS,CAAC,eAAe,CAAAC,QAAA,EAAEX,CAAC,CAAC,mBAAmB,CAAC,CAAC,GAAC,EAAM,CAAC,IAAC,CAACF,GAAG,CAACgC,YAAY,EAAM,CAAC,cAC9FnC,KAAA,QAAAgB,QAAA,eAAKhB,KAAA,SAAMe,SAAS,CAAC,eAAe,CAAAC,QAAA,EAAEX,CAAC,CAAC,eAAe,CAAC,CAAC,GAAC,EAAM,CAAC,IAAC,CAACF,GAAG,CAACiC,IAAI,CAAC,IAAE,CAACjC,GAAG,CAACkC,OAAO,EAAM,CAAC,cACjGrC,KAAA,QAAAgB,QAAA,eAAKhB,KAAA,SAAMe,SAAS,CAAC,eAAe,CAAAC,QAAA,EAAEX,CAAC,CAAC,kBAAkB,CAAC,CAAC,GAAC,EAAM,CAAC,IAAC,CAACF,GAAG,CAACmC,YAAY,EAAM,CAAC,EAC1F,CAAC,cAENtC,KAAA,QAAKe,SAAS,CAAC,MAAM,CAAAC,QAAA,eACnBpB,IAAA,OAAImB,SAAS,CAAC,wBAAwB,CAAAC,QAAA,CAAEX,CAAC,CAAC,kBAAkB,CAAC,CAAK,CAAC,cACnET,IAAA,MAAGmB,SAAS,CAAC,eAAe,CAAAC,QAAA,CAAEb,GAAG,CAACoC,WAAW,EAAIlC,CAAC,CAAC,oBAAoB,CAAC,CAAI,CAAC,EAC1E,CAAC,cAENT,IAAA,WACEgC,OAAO,CAAElB,wBAAyB,CAClCK,SAAS,CAAC,kGAAkG,CAAAC,QAAA,CAE3Gb,GAAG,CAACQ,WAAW,EAAIR,GAAG,CAACS,YAAY,CAAGP,CAAC,CAAC,qBAAqB,CAAC,CAAGA,CAAC,CAAC,oBAAoB,CAAC,CACnF,CAAC,EACN,CAAC,EACH,CAAC,CAEV,CAAC,CAED,cAAe,CAAAJ,SAAS","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}