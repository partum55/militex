{"ast":null,"code":"import React,{useState,useEffect}from'react';import api from'../../services/api';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ApiTest=()=>{const[status,setStatus]=useState('Loading...');const[error,setError]=useState(null);useEffect(()=>{const testConnection=async()=>{try{// Try to fetch a simple endpoint - replace with an actual endpoint from your API\nconst response=await api.get('users/');setStatus(`Connected! Server returned ${response.status} status code`);}catch(err){console.error('API connection error:',err);setError(err.message||'Failed to connect to the API');setStatus('Failed');}};testConnection();},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"p-6 bg-white rounded-lg shadow-md\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-bold text-indigo-900 mb-4\",children:\"API Connection Test\"}),/*#__PURE__*/_jsxs(\"div\",{className:`p-4 rounded-lg ${error?'bg-red-100 text-red-700':'bg-green-100 text-green-700'}`,children:[/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Status:\"}),\" \",status]}),error&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-2\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Error:\"}),\" \",error]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-2 text-sm\",children:[/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsx(\"strong\",{children:\"Troubleshooting:\"})}),/*#__PURE__*/_jsxs(\"ul\",{className:\"list-disc pl-5\",children:[/*#__PURE__*/_jsx(\"li\",{children:\"Make sure your Django server is running on port 8000\"}),/*#__PURE__*/_jsx(\"li\",{children:\"Check for CORS issues in browser console\"}),/*#__PURE__*/_jsx(\"li\",{children:\"Verify API URL configuration in api.js\"}),/*#__PURE__*/_jsx(\"li\",{children:\"Check network tab for detailed error responses\"})]})]})]})]})]});};export default ApiTest;","map":{"version":3,"names":["React","useState","useEffect","api","jsx","_jsx","jsxs","_jsxs","ApiTest","status","setStatus","error","setError","testConnection","response","get","err","console","message","className","children"],"sources":["C:/Users/partu/Desktop/militex/frontend/src/components/common/ApiTest.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport api from '../../services/api';\r\n\r\nconst ApiTest = () => {\r\n  const [status, setStatus] = useState('Loading...');\r\n  const [error, setError] = useState(null);\r\n\r\n  useEffect(() => {\r\n    const testConnection = async () => {\r\n      try {\r\n        // Try to fetch a simple endpoint - replace with an actual endpoint from your API\r\n        const response = await api.get('users/');\r\n        setStatus(`Connected! Server returned ${response.status} status code`);\r\n      } catch (err) {\r\n        console.error('API connection error:', err);\r\n        setError(err.message || 'Failed to connect to the API');\r\n        setStatus('Failed');\r\n      }\r\n    };\r\n\r\n    testConnection();\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"p-6 bg-white rounded-lg shadow-md\">\r\n      <h2 className=\"text-xl font-bold text-indigo-900 mb-4\">API Connection Test</h2>\r\n\r\n      <div className={`p-4 rounded-lg ${\r\n        error ? 'bg-red-100 text-red-700' : 'bg-green-100 text-green-700'\r\n      }`}>\r\n        <p><strong>Status:</strong> {status}</p>\r\n        {error && (\r\n          <div className=\"mt-2\">\r\n            <p><strong>Error:</strong> {error}</p>\r\n            <div className=\"mt-2 text-sm\">\r\n              <p><strong>Troubleshooting:</strong></p>\r\n              <ul className=\"list-disc pl-5\">\r\n                <li>Make sure your Django server is running on port 8000</li>\r\n                <li>Check for CORS issues in browser console</li>\r\n                <li>Verify API URL configuration in api.js</li>\r\n                <li>Check network tab for detailed error responses</li>\r\n              </ul>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ApiTest;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,MAAO,CAAAC,GAAG,KAAM,oBAAoB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAErC,KAAM,CAAAC,OAAO,CAAGA,CAAA,GAAM,CACpB,KAAM,CAACC,MAAM,CAAEC,SAAS,CAAC,CAAGT,QAAQ,CAAC,YAAY,CAAC,CAClD,KAAM,CAACU,KAAK,CAAEC,QAAQ,CAAC,CAAGX,QAAQ,CAAC,IAAI,CAAC,CAExCC,SAAS,CAAC,IAAM,CACd,KAAM,CAAAW,cAAc,CAAG,KAAAA,CAAA,GAAY,CACjC,GAAI,CACF;AACA,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAX,GAAG,CAACY,GAAG,CAAC,QAAQ,CAAC,CACxCL,SAAS,CAAC,8BAA8BI,QAAQ,CAACL,MAAM,cAAc,CAAC,CACxE,CAAE,MAAOO,GAAG,CAAE,CACZC,OAAO,CAACN,KAAK,CAAC,uBAAuB,CAAEK,GAAG,CAAC,CAC3CJ,QAAQ,CAACI,GAAG,CAACE,OAAO,EAAI,8BAA8B,CAAC,CACvDR,SAAS,CAAC,QAAQ,CAAC,CACrB,CACF,CAAC,CAEDG,cAAc,CAAC,CAAC,CAClB,CAAC,CAAE,EAAE,CAAC,CAEN,mBACEN,KAAA,QAAKY,SAAS,CAAC,mCAAmC,CAAAC,QAAA,eAChDf,IAAA,OAAIc,SAAS,CAAC,wCAAwC,CAAAC,QAAA,CAAC,qBAAmB,CAAI,CAAC,cAE/Eb,KAAA,QAAKY,SAAS,CAAE,kBACdR,KAAK,CAAG,yBAAyB,CAAG,6BAA6B,EAChE,CAAAS,QAAA,eACDb,KAAA,MAAAa,QAAA,eAAGf,IAAA,WAAAe,QAAA,CAAQ,SAAO,CAAQ,CAAC,IAAC,CAACX,MAAM,EAAI,CAAC,CACvCE,KAAK,eACJJ,KAAA,QAAKY,SAAS,CAAC,MAAM,CAAAC,QAAA,eACnBb,KAAA,MAAAa,QAAA,eAAGf,IAAA,WAAAe,QAAA,CAAQ,QAAM,CAAQ,CAAC,IAAC,CAACT,KAAK,EAAI,CAAC,cACtCJ,KAAA,QAAKY,SAAS,CAAC,cAAc,CAAAC,QAAA,eAC3Bf,IAAA,MAAAe,QAAA,cAAGf,IAAA,WAAAe,QAAA,CAAQ,kBAAgB,CAAQ,CAAC,CAAG,CAAC,cACxCb,KAAA,OAAIY,SAAS,CAAC,gBAAgB,CAAAC,QAAA,eAC5Bf,IAAA,OAAAe,QAAA,CAAI,sDAAoD,CAAI,CAAC,cAC7Df,IAAA,OAAAe,QAAA,CAAI,0CAAwC,CAAI,CAAC,cACjDf,IAAA,OAAAe,QAAA,CAAI,wCAAsC,CAAI,CAAC,cAC/Cf,IAAA,OAAAe,QAAA,CAAI,gDAA8C,CAAI,CAAC,EACrD,CAAC,EACF,CAAC,EACH,CACN,EACE,CAAC,EACH,CAAC,CAEV,CAAC,CAED,cAAe,CAAAZ,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}